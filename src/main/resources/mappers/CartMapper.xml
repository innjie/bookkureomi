<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.inyoon.bookkureomi.cart.CartMapper">
	<select id="checkCart" parameterType="integer" resultType="com.inyoon.bookkureomi.sale.Sale">
        SELECT 
			saleNo, publisher, title, costPrice, salePrice, image, info, userNo, regiDate, state, genreNo
		FROM 
			Cart <!-- Sale, User 추가 -->
		where
			userNo = #{userNo}
    </select>
    
    <insert id="addCartItem" parameterType="com.inyoon.bookkureomi.cart.CartItem">
    	Insert into Cart (saleNo, userNo)
    	Values (#{sale.saleNo}, #{user.userNo})
    </insert>
    
    <delete id="deleteCartItem" parameterType="com.inyoon.bookkureomi.cart.CartItem">
        DELETE FROM Cart
        WHERE userNo = #{user.userNo} and saleNo = #{sale.saleNo}
    </delete>
    
    <delete id="deleteAllCartItem" parameterType="integer">
        DELETE FROM Cart
        WHERE userNo = #{userNo}}
    </delete>
</mapper>